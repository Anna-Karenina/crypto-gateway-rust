# ๐ฆ TRC-20 Payment Gateway

**Production-ready E-commerce USDT Payment Processing System**

ะะธะบัะพัะตัะฒะธั ะดะปั ะพะฑัะฐะฑะพัะบะธ TRC-20 ะฟะปะฐัะตะถะตะน ะฒ ะธะฝัะตัะฝะตั-ะผะฐะณะฐะทะธะฝะฐั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ USDT ะฝะฐ ัะตัะธ TRON.

---

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [๐ฏ ะะธะทะฝะตั-ะปะพะณะธะบะฐ](#-ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ)
- [โจ ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ](#-ะบะปััะตะฒัะต-ะพัะพะฑะตะฝะฝะพััะธ)
- [๐๏ธ ะััะธัะตะบัััะฐ](#๏ธ-ะฐััะธัะตะบัััะฐ)
- [๐ง ะะฐัััะพะนะบะฐ](#-ะฝะฐัััะพะนะบะฐ)
- [๐ ะะฐะฟััะบ](#-ะทะฐะฟััะบ)
- [๐ก API Endpoints](#-api-endpoints)
- [๐ณ Workflow ะฟะปะฐัะตะถะตะน](#-workflow-ะฟะปะฐัะตะถะตะน)
- [๐ ะะตะทะพะฟะฐัะฝะพััั](#-ะฑะตะทะพะฟะฐัะฝะพััั)
- [โ๏ธ ะะพะฝัะธะณััะฐัะธั](#๏ธ-ะบะพะฝัะธะณััะฐัะธั)
- [๐ Troubleshooting](#-troubleshooting)
- [๐ TRON ะกะฟะตัะธัะธะบะฐ](#-tron-ัะฟะตัะธัะธะบะฐ)

---

## ๐ฏ ะะธะทะฝะตั-ะปะพะณะธะบะฐ

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

#### **1. Custodial Wallet System ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะฐะบัะธะฒะฐัะธะตะน**

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกะธััะตะผะฐ ัะพะทะดะฐะตั ะธ ัะฟัะฐะฒะปัะตั TRON ะบะพัะตะปัะบะฐะผะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- **ะะพะดะตะปั**: Custodial (ัะธััะตะผะฐ ััะฐะฝะธั ะฟัะธะฒะฐัะฝัะต ะบะปััะธ)
- **ะะฐะปััะฐ**: USDT (TRC-20) ะฝะฐ ัะตัะธ TRON
- **ะะตะฝะตัะฐัะธั**: ะะพะบะฐะปัะฝะฐั, ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ secp256k1 ะบัะธะฟัะพะณัะฐัะธะธ
- **๐ ะะฒัะพะฐะบัะธะฒะฐัะธั**: ะะพะฒัะต ะบะพัะตะปัะบะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฐะบัะธะฒะธัััััั ะพัะฟัะฐะฒะบะพะน 1 TRX ั ะผะฐััะตั-ะบะพัะตะปัะบะฐ

#### **2. Hybrid Gas Sponsorship Model**

**ะฃะฝะธะบะฐะปัะฝะฐั ััะตะผะฐ ะฟะพะบัััะธั ะณะฐะทะฐ:**

```
ะะพะปัะทะพะฒะฐัะตะปั โ ะะฐะบะฐะท 100 USDT โ ะกะธััะตะผะฐ ะฑะตัะตั 101 USDT (100 + ะบะพะผะธััะธั)
     โ
ะะฐััะตั-ะบะพัะตะปะตะบ โ ะัะฟัะฐะฒะปัะตั TRX ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะบะพัะตะปะตะบ (ะดะปั ะณะฐะทะฐ)
     โ
ะะพะปัะทะพะฒะฐัะตะปััะบะธะน ะบะพัะตะปะตะบ โ ะัะฟัะฐะฒะปัะตั 101 USDT ะฝะฐ ะผะฐััะตั-ะบะพัะตะปะตะบ
```

**ะัะตะธะผััะตััะฒะฐ:**

- โ ะะพะปัะทะพะฒะฐัะตะปั ะดัะผะฐะตั ัะพะปัะบะพ ะฒ USDT
- โ ะะฐะท ะฟะพะบััะฒะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ
- โ ะะพะผะธััะธั ะฒะบะปััะฐะตั ััะพะธะผะพััั ะณะฐะทะฐ + ะฟัะธะฑัะปั ะผะฐะณะฐะทะธะฝะฐ

#### **3. E-commerce Integration**

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Customer      โ    โ  Crypto Payment  โ    โ  Master Wallet  โ
โ   Wallet        โโโโโถโ      Gateway     โโโโโถโ   (Shop)        โ
โ   (Auto TRX)    โ    โ   (Gas + Fee)    โ    โ                 โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

#### **4. Dynamic Fee Calculation**

**ะะตะฐะปัะฝะฐั ะพัะตะฝะบะฐ ะบะพะผะธััะธะน:**

- ๐ **Real-time gas estimation**: ะะฐะฟัะพั ะบ TronGrid `/wallet/estimateenergy`
- ๐ฐ **Dynamic USDT commission**: ะะพะผะธััะธั ัะฐัััะธััะฒะฐะตััั ั ััะตัะพะผ ัะตะบััะตะน ััะพะธะผะพััะธ TRX
- ๐ **Transparent preview**: ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ัะฐะทะฑะธะฒะบั ะดะพ ะฟะพะดัะฒะตัะถะดะตะฝะธั

---

## โจ ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ

### **๐ฏ ะะพะปะฝะพัััั ะณะพัะพะฒะฐั ัะธััะตะผะฐ**

#### **1. ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั ะบะพัะตะปัะบะพะฒ**

- **ะัะพะฑะปะตะผะฐ**: ะะพะฒัะต TRON ะฐะดัะตัะฐ ะฝะต ะฒะธะดะฝั ะฒ API ะดะพ ะฟะตัะฒะพะน ััะฐะฝะทะฐะบัะธะธ
- **ะะตัะตะฝะธะต**: ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะฟัะฐะฒะบะฐ 1 TRX ะฟัะธ ัะพะทะดะฐะฝะธะธ ะบะพัะตะปัะบะฐ
- **ะะตะทัะปััะฐั**: ะะพะปัะทะพะฒะฐัะตะปะธ ััะฐะทั ะฟะพะปััะฐัั ะณะพัะพะฒัะต ะบ ัะฐะฑะพัะต ะบะพัะตะปัะบะธ

#### **2. ะะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั ะฐะดัะตัะพะฒ**

- **ะัะพะฑะปะตะผะฐ**: TronGrid API ะฝะต ะทะฝะฐะตั ะฝะตะฐะบัะธะฒะธัะพะฒะฐะฝะฝัะต ะฐะดัะตัะฐ
- **ะะตัะตะฝะธะต**: ะกะพะฑััะฒะตะฝะฝะฐั ัะตะฐะปะธะทะฐัะธั Base58 โ Hex ะบะพะฝะฒะตััะฐัะธะธ
- **ะะตะทัะปััะฐั**: ะกะธััะตะผะฐ ัะฐะฑะพัะฐะตั ั ะปัะฑัะผะธ ะฐะดัะตัะฐะผะธ ะฑะตะท API ะทะฐะฒะธัะธะผะพััะตะน

#### **3. Hybrid Gas Sponsorship**

- **ะัะพะฑะปะตะผะฐ**: ะะพะปัะทะพะฒะฐัะตะปะธ ะฝะต ัะพััั ัะฐะทะฑะธัะฐัััั ั TRX ะดะปั ะณะฐะทะฐ
- **ะะตัะตะฝะธะต**: ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฟะพะฝัะธััะตั TRX ะธ ะฒะบะปััะฐะตั ััะพะธะผะพััั ะฒ USDT ะบะพะผะธััะธั
- **ะะตะทัะปััะฐั**: UX ะบะฐะบ ั ะพะฑััะฝะพะณะพ ะฟะปะฐัะตะถะฝะพะณะพ ะฟัะพัะตััะพัะฐ

#### **4. Real-time Fee Calculation**

- **ะัะพะฑะปะตะผะฐ**: ะคะธะบัะธัะพะฒะฐะฝะฝัะต ะบะพะผะธััะธะธ ะฝะต ััะธััะฒะฐัั ะธะทะผะตะฝะตะฝะธั ััะพะธะผะพััะธ ะณะฐะทะฐ
- **ะะตัะตะฝะธะต**: ะะธะฝะฐะผะธัะตัะบะฐั ะพัะตะฝะบะฐ ัะตัะตะท TronGrid + ะฟัะพัะตะฝัะฝะฐั ะบะพะผะธััะธั
- **ะะตะทัะปััะฐั**: ะกะฟัะฐะฒะตะดะปะธะฒัะต ะธ ะบะพะฝะบััะตะฝัะฝัะต ัะฐัะธัั

#### **5. Preview ััะฝะบัะธะพะฝะฐะปัะฝะพััั**

- **ะะพะทะผะพะถะฝะพััั**: ะัะตะดะฒะฐัะธัะตะปัะฝัะน ัะฐััะตั ะฑะตะท ัะพะทะดะฐะฝะธั ัะตะฐะปัะฝะพะน ััะฐะฝะทะฐะบัะธะธ
- **ะะพะบะฐะทัะฒะฐะตั**: Order amount, gas cost, commission, total amount
- **ะัะฟะพะปัะทะพะฒะฐะฝะธะต**: `{"previewOnly": true}` ะฒ ะทะฐะฟัะพัะต

---

## ๐๏ธ ะััะธัะตะบัััะฐ

### **Layered Architecture (Onion)**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    API Controllers                          โ
โ  WalletController | TransferController | ActivationController โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                Application Services                         โ
โ WalletService | TransferService | ActivationService | TrxService โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                   Domain Entities                           โ
โ      Wallet | OutgoingTransfer | IncomingTransaction        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ            Infrastructure (Database, TronGrid)              โ
โ   TronGridClient | RealTronWalletGenerator | TronAddressUtil โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### **ะะพะฒัะต ะบะพะผะฟะพะฝะตะฝัั:**

**๐ฎ API Layer**

- `WalletActivationController` - ัััะฝะฐั ะฐะบัะธะฒะฐัะธั ะบะพัะตะปัะบะพะฒ

**๐ง Application Layer**

- `WalletActivationService` - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั ะฝะพะฒัั ะบะพัะตะปัะบะพะฒ
- `TrxTransferService` - ะพัะฟัะฐะฒะบะฐ TRX ััะฐะฝะทะฐะบัะธะน
- `SponsorGasService` - ัะฟะพะฝัะพัััะฒะพ TRX ะดะปั ะฟะพะบัััะธั ะณะฐะทะฐ
- `FeeCalculationService` - ะดะธะฝะฐะผะธัะตัะบะธะน ัะฐััะตั ะบะพะผะธััะธะน

**๐ก Infrastructure Layer**

- `TronAddressUtil` - ะปะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั Base58 โ Hex
- `RealTronTransactionSigner` - ะธัะฟัะฐะฒะปะตะฝะฝะฐั ะฟะพะดะฟะธัั ั ะพะฑัะฐะฑะพัะบะพะน leading zeros

---

## ๐ง ะะฐัััะพะนะบะฐ

### **Environment Variables**

#### **ะะฑัะทะฐัะตะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต:**

```bash
# TronGrid API Configuration
TRONGRID_BASE_URL=https://api.shasta.trongrid.io  # Testnet
TRONGRID_USDT_CONTRACT=TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs  # Shasta USDT

# Master Wallet (Shop Wallet)
MASTER_WALLET_ADDRESS=TH3QBLNLsimQbNwq2DxTGhoDYeeCZYTvK3
MASTER_WALLET_PRIVATE_KEY=your-master-wallet-private-key


# Database
POSTGRES_DB=cryptopay
POSTGRES_USER=postgres
POSTGRES_PASSWORD=securepassword123
```

#### **ะะพะฒัะต ะพะฟัะธะพะฝะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต:**

```bash
# ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั ะบะพัะตะปัะบะพะฒ
WALLET_ACTIVATION_ENABLED=true        # ะะบะปััะธัั ะฐะฒัะพะฐะบัะธะฒะฐัะธั
WALLET_ACTIVATION_AMOUNT=1.0          # ะกัะผะผะฐ TRX ะดะปั ะฐะบัะธะฒะฐัะธะธ

# ะกะฟะพะฝัะพัััะฒะพ ะณะฐะทะฐ
SPONSOR_AMOUNT=15                     # ะกัะผะผะฐ TRX ะดะปั ัะฟะพะฝัะพัััะฒะฐ

# ะะพะผะธััะธะธ
FEE_PERCENTAGE=1.0                    # ะัะพัะตะฝั ะบะพะผะธััะธะธ (1% ะฟะพ ัะผะพะปัะฐะฝะธั)
FEE_MINIMUM_USDT=0.5                  # ะะธะฝะธะผะฐะปัะฝะฐั ะบะพะผะธััะธั
FEE_MAXIMUM_USDT=50.0                 # ะะฐะบัะธะผะฐะปัะฝะฐั ะบะพะผะธััะธั
```

#### **ะะปั Production (Mainnet):**

```bash
TRONGRID_BASE_URL=https://api.trongrid.io
TRONGRID_USDT_CONTRACT=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
```

---

## ๐ ะะฐะฟััะบ

### **Development (Testnet)**

1. **ะะปะพะฝะธัะพะฒะฐะฝะธะต:**

```bash
git clone <repository-url>
cd trc20-payment-gateway
```

2. **ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั:**

```bash
# ะกะพะทะดะฐะนัะต .env ัะฐะนะป ั ะฒะฐัะธะผะธ ะฝะฐัััะพะนะบะฐะผะธ
cat > .env << EOF
TRONGRID_BASE_URL=https://api.shasta.trongrid.io
TRONGRID_USDT_CONTRACT=TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs
MASTER_WALLET_ADDRESS=YOUR_MASTER_WALLET_ADDRESS
MASTER_WALLET_PRIVATE_KEY=YOUR_MASTER_WALLET_PRIVATE_KEY
POSTGRES_DB=cryptopay
POSTGRES_USER=postgres
POSTGRES_PASSWORD=securepassword123
EOF
```

3. **ะะฐะฟััะบ:**

```bash
docker-compose up --build
```

4. **ะัะพะฒะตัะบะฐ:**

```bash
# Health check
curl http://localhost:8080/actuator/health

# ะขะตัั ัะพะทะดะฐะฝะธั ะบะพัะตะปัะบะฐ ั ะฐะฒัะพะฐะบัะธะฒะฐัะธะตะน
curl -X POST http://localhost:8080/api/wallets \
  -H "Content-Type: application/json" \
  -d '{"ownerId": "test_user"}'
```

### **ะะพะปััะตะฝะธะต ัะตััะพะฒัั ัะพะบะตะฝะพะฒ**

```bash
# ะ Telegram: @TronFAQ_bot
!shasta_trx YOUR_WALLET_ADDRESS     # ะะพะปััะธัั TRX
!shasta_usdt YOUR_WALLET_ADDRESS    # ะะพะปััะธัั USDT
```

---

## ๐ก API Endpoints

### **๐ฆ Wallet Management**

#### **POST /api/wallets**

ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ะบะพัะตะปัะบะฐ ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะฐะบัะธะฒะฐัะธะตะน.

**Request:**

```json
{
  "ownerId": "user_12345"
}
```

**Response:**

```json
{
  "id": 1,
  "address": "TEL6KQVwtyBMfuXhVdzDX9GcJd7uqkXRaC",
  "hexAddress": "412fd3a8b9b30164f70bacf692ab7cbecddee0b885",
  "ownerId": "user_12345",
  "createdAt": "2025-08-19T13:18:14.582472678"
}
```

**๐ ะะฒัะพะผะฐัะธัะตัะบะธะต ะดะตะนััะฒะธั:**

1. ะะตะฝะตัะฐัะธั ะบะพัะตะปัะบะฐ ั ะบัะธะฟัะพะณัะฐัะธะตะน secp256k1
2. ะกะพััะฐะฝะตะฝะธะต ะฒ ะะ
3. **ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั** - ะพัะฟัะฐะฒะบะฐ 1 TRX ั ะผะฐััะตั-ะบะพัะตะปัะบะฐ
4. ะะพัะตะปะตะบ ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ ัะตัะตะฝะธะต 1-2 ะผะธะฝัั

#### **POST /api/wallets/activate/{walletAddress}**

ะััะฝะฐั ะฐะบัะธะฒะฐัะธั ะบะพัะตะปัะบะฐ (ะตัะปะธ ะฐะฒัะพะฐะบัะธะฒะฐัะธั ะฝะต ััะฐะฑะพัะฐะปะฐ).

**Response:**

```json
{
  "success": true,
  "message": "Wallet activated successfully",
  "walletAddress": "TEL6KQVwtyBMfuXhVdzDX9GcJd7uqkXRaC",
  "activationAmount": 1.0
}
```

#### **GET /api/wallets/activation-info**

ะะฝัะพัะผะฐัะธั ะพ ะฝะฐัััะพะนะบะฐั ะฐะบัะธะฒะฐัะธะธ.

**Response:**

```json
{
  "activationAmount": 1.0,
  "description": "Amount of TRX sent from master wallet to activate new wallets"
}
```

### **๐ธ Transfer Management**

#### **POST /api/transfers**

ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ะฟะตัะตะฒะพะดะฐ ั ะดะธะฝะฐะผะธัะตัะบะธะผ ัะฐััะตัะพะผ ะบะพะผะธััะธะธ.

**Request (ั preview):**

```json
{
  "fromWalletId": 3,
  "toAddress": "TH3QBLNLsimQbNwq2DxTGhoDYeeCZYTvK3",
  "orderAmount": 100.0,
  "previewOnly": true
}
```

**Response (preview):**

```json
{
  "orderAmount": 100.0,
  "estimatedFee": 1.0,
  "totalAmount": 101.0,
  "gasCost": 7.11694,
  "gasCostUsdt": 0.711694,
  "commission": 1.0,
  "breakdown": {
    "baseOrder": 100.0,
    "gasInTrx": 7.11694,
    "gasInUsdt": 0.711694,
    "platformFee": 0.288306,
    "totalFee": 1.0
  }
}
```

**Request (ัะตะฐะปัะฝัะน ะฟะตัะตะฒะพะด):**

```json
{
  "fromWalletId": 3,
  "toAddress": "TH3QBLNLsimQbNwq2DxTGhoDYeeCZYTvK3",
  "orderAmount": 100.0,
  "previewOnly": false
}
```

**Response:**

```json
{
  "id": 15,
  "fromWalletId": 3,
  "toAddress": "TH3QBLNLsimQbNwq2DxTGhoDYeeCZYTvK3",
  "amount": 101.0,
  "status": "PENDING",
  "txHash": null,
  "referenceId": null,
  "errorMessage": null,
  "createdAt": "2025-08-19T13:17:49.512339922",
  "completedAt": null
}
```

**๐ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟัะพัะตัั:**

1. **ะะธะฝะฐะผะธัะตัะบะฐั ะพัะตะฝะบะฐ ะณะฐะทะฐ** - ัะตะฐะปัะฝะฐั ััะพะธะผะพััั ัะตัะตะท TronGrid API
2. **TRX ัะฟะพะฝัะพัััะฒะพ** - ะพัะฟัะฐะฒะบะฐ TRX ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะบะพัะตะปะตะบ
3. **USDT ะฟะตัะตะฒะพะด** - ะพัะฟัะฐะฒะบะฐ USDT + ะบะพะผะธััะธะธ ะฝะฐ ะผะฐััะตั-ะบะพัะตะปะตะบ
4. **ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ** - PENDING โ CONFIRMED

---

## ๐ณ Workflow ะฟะปะฐัะตะถะตะน

### **1. ะกะพะทะดะฐะฝะธะต ะบะพัะตะปัะบะฐ ั ะฐะฒัะพะฐะบัะธะฒะฐัะธะตะน**

```mermaid
sequenceDiagram
    participant User as ะะพะปัะทะพะฒะฐัะตะปั
    participant Shop as E-commerce Shop
    participant API as Payment Gateway
    participant Master as Master Wallet
    participant TRON as TRON Network

    User->>Shop: ะะตะณะธัััะฐัะธั/ะะฐะบะฐะท
    Shop->>API: POST /api/wallets {"ownerId": "user123"}

    API->>API: ะะตะฝะตัะฐัะธั ะฟัะธะฒะฐัะฝะพะณะพ ะบะปััะฐ
    API->>API: ะััะธัะปะตะฝะธะต TRON ะฐะดัะตัะฐ
    API->>API: ะกะพััะฐะฝะตะฝะธะต ะฒ ะะ

    Note over API: ๐ ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั
    API->>Master: ะะพะปััะตะฝะธะต TRX ั ะผะฐััะตั-ะบะพัะตะปัะบะฐ
    Master->>TRON: ะัะฟัะฐะฒะบะฐ 1 TRX ะฝะฐ ะฝะพะฒัะน ะฐะดัะตั
    TRON->>API: ะะพะดัะฒะตัะถะดะตะฝะธะต ะฐะบัะธะฒะฐัะธะธ

    API->>Shop: ะะพัะพะฒัะน ะฐะบัะธะฒะธัะพะฒะฐะฝะฝัะน ะบะพัะตะปะตะบ
    Shop->>User: ะะดัะตั ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั
```

### **2. ะะฑัะฐะฑะพัะบะฐ ะฟะปะฐัะตะถะฐ ั gas sponsorship**

```mermaid
sequenceDiagram
    participant User as ะะพะปัะทะพะฒะฐัะตะปั
    participant Shop as E-commerce Shop
    participant API as Payment Gateway
    participant Master as Master Wallet
    participant UserWallet as User Wallet
    participant TRON as TRON Network

    User->>Shop: ะะฟะปะฐัะฐ ะทะฐะบะฐะทะฐ 100 USDT
    Shop->>API: POST /api/transfers (orderAmount: 100)

    Note over API: ๐ ะะธะฝะฐะผะธัะตัะบะฐั ะพัะตะฝะบะฐ
    API->>TRON: ะะฐะฟัะพั ััะพะธะผะพััะธ ะณะฐะทะฐ (/wallet/estimateenergy)
    TRON->>API: ~7 TRX โ 0.7 USDT
    API->>API: ะะฐััะตั: 100 + 1.0 ะบะพะผะธััะธั = 101 USDT

    Note over API: ๐ TRX ะกะฟะพะฝัะพัััะฒะพ
    API->>Master: ะัะฟัะฐะฒะบะฐ 15 TRX ะฝะฐ user wallet (ะดะปั ะณะฐะทะฐ)
    Master->>UserWallet: 15 TRX ะฟะตัะตะฒะตะดะตะฝะพ

    Note over API: USDT ะะตัะตะฒะพะด
    API->>UserWallet: ะกะพะทะดะฐะฝะธะต USDT ััะฐะฝะทะฐะบัะธะธ (101 USDT)
    UserWallet->>Master: 101 USDT (100 ะทะฐะบะฐะท + 1 ะบะพะผะธััะธั)

    API->>Shop: ะะพะดัะฒะตัะถะดะตะฝะธะต ะฟะปะฐัะตะถะฐ
    Shop->>User: ะะพะดัะฒะตัะถะดะตะฝะธะต ะทะฐะบะฐะทะฐ
```

### **3. Preview ััะฝะบัะธะพะฝะฐะปัะฝะพััั**

```mermaid
sequenceDiagram
    participant Shop as E-commerce Shop
    participant API as Payment Gateway
    participant TRON as TRON Network

    Shop->>API: POST /api/transfers {"previewOnly": true}
    API->>TRON: ะัะตะฝะบะฐ ะณะฐะทะฐ (/wallet/estimateenergy)
    TRON->>API: ะกัะพะธะผะพััั: 16307 energy, 7.116940 TRX
    API->>API: ะะพะฝะฒะตััะฐัะธั TRXโUSDT ะฟะพ ะบัััั
    API->>API: ะะฐััะตั ะบะพะผะธััะธะธ (ะณะฐะท + ะฟัะพัะตะฝั)
    API->>Shop: ะะตัะฐะปัะฝะฐั ัะฐะทะฑะธะฒะบะฐ ััะพะธะผะพััะธ

    Note over Shop: ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั:<br/>Order: 100 USDT<br/>Fee: 1.0 USDT<br/>Total: 101 USDT

    Shop->>API: POST /api/transfers {"previewOnly": false}
    Note over API: ะัะฟะพะปะฝะตะฝะธะต ัะตะฐะปัะฝะพะณะพ ะฟะตัะตะฒะพะดะฐ
```

---

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### **1. ะฅัะฐะฝะตะฝะธะต ะฟัะธะฒะฐัะฝัั ะบะปััะตะน**

**ะขะตะบััะฐั ัะตะฐะปะธะทะฐัะธั (Development):**

- ะัะธะฒะฐัะฝัะต ะบะปััะธ ััะฐะฝัััั ะฒ ะะ ะฒ ะพัะบัััะพะผ ะฒะธะดะต
- ะะพะดัะพะดะธั ัะพะปัะบะพ ะดะปั testnet ะธ ัะฐะทัะฐะฑะพัะบะธ

**Production ัะตะบะพะผะตะฝะดะฐัะธะธ:**

```rust
// ะจะธััะพะฒะฐะฝะธะต ะฟัะธะฒะฐัะฝัั ะบะปััะตะน ะฟะตัะตะด ัะพััะฐะฝะตะฝะธะตะผ
@Column(name = "private_key", nullable = false, length = 256)
private String encryptedPrivateKey;

// ะัะฟะพะปัะทะพะฒะฐะฝะธะต AES-256 ะธะปะธ ะฐะฝะฐะปะพะณะธัะฝะพะณะพ ัะธััะพะฒะฐะฝะธั
public void setPrivateKey(String privateKey) {
    this.encryptedPrivateKey = cryptoService.encrypt(privateKey);
}
```

### **2. ะฃะฟัะฐะฒะปะตะฝะธะต master wallet**

**ะัะธัะธัะตัะบะธ ะฒะฐะถะฝะพ:**

- Master wallet ะดะพะปะถะตะฝ ะฑััั ะฟะพะด ะฟะพะปะฝัะผ ะบะพะฝััะพะปะตะผ
- ะะตะณัะปััะฝัะน backup ะฟัะธะฒะฐัะฝะพะณะพ ะบะปััะฐ
- ะะพะฝะธัะพัะธะฝะณ ะฑะฐะปะฐะฝัะฐ ะธ ััะฐะฝะทะฐะบัะธะน
- ะฃััะฐะฝะพะฒะบะฐ ะปะธะผะธัะพะฒ ะฝะฐ ัะฐะทะพะฒัะต ะฟะตัะตะฒะพะดั

**๐ ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฟัะฐะฒะปะตะฝะธะต TRX:**

- ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ััะฐัะธั TRX ะผะฐััะตั-ะบะพัะตะปัะบะฐ ะดะปั ะฐะบัะธะฒะฐัะธะธ ะธ ัะฟะพะฝัะพัััะฒะฐ
- ะะตะบะพะผะตะฝะดัะตััั ะฟะพะดะดะตัะถะธะฒะฐัั ะฑะฐะปะฐะฝั ะฝะต ะผะตะฝะตะต 1000 TRX
- ะะฐัััะพะนัะต ะผะพะฝะธัะพัะธะฝะณ ะผะธะฝะธะผะฐะปัะฝะพะณะพ ะฑะฐะปะฐะฝัะฐ

### **3. ะะฐัะธัะฐ ะพั leading zero ะฐัะฐะบ**

**ะัะฟัะฐะฒะปะตะฝะฝะฐั ะฟะพะดะฟะธัั ััะฐะฝะทะฐะบัะธะน:**

```rust
// RealTronTransactionSigner - ะธัะฟัะฐะฒะปะตะฝะฐ ะพะฑัะฐะฑะพัะบะฐ leading zeros
String cleanPrivateKeyHex = privateKeyHex.toLowerCase();
if (cleanPrivateKeyHex.length() % 2 != 0) {
    cleanPrivateKeyHex = "0" + cleanPrivateKeyHex;
}
// ะะ ัะดะฐะปัะตะผ leading zeros - ะพะฝะธ ะฒะฐะถะฝั ะดะปั ะบะพััะตะบัะฝะพััะธ ะบะปััะฐ
BigInteger privateKey = new BigInteger(cleanPrivateKeyHex, 16);
```

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### **ะะพะฒัะต ะบะพะฝัะธะณััะฐัะธะธ**

#### **ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั ะบะพัะตะปัะบะพะฒ**

```yaml
wallet:
  use-real-generator: true
  activation:
    enabled: true # ะะบะปััะธัั ะฐะฒัะพะฐะบัะธะฒะฐัะธั
    amount: 1.0 # TRX ะดะปั ะฐะบัะธะฒะฐัะธะธ
```

#### **ะกะฟะพะฝัะพัััะฒะพ ะณะฐะทะฐ**

```yaml
sponsor:
  enabled: true # ะัะตะณะดะฐ ัะฟะพะฝัะธัะพะฒะฐัั TRX
  amount: 15 # TRX ะดะปั ัะฟะพะฝัะพัััะฒะฐ
  policy: "always_from_master" # ะัะตะณะดะฐ ั ะผะฐััะตั-ะบะพัะตะปัะบะฐ
```

#### **ะะธะฝะฐะผะธัะตัะบะธะต ะบะพะผะธััะธะธ**

```yaml
fee:
  percentage: 1.0 # 1% ะบะพะผะธััะธั
  minimum-usdt: 0.5 # ะะธะฝะธะผัะผ 0.5 USDT
  maximum-usdt: 50.0 # ะะฐะบัะธะผัะผ 50 USDT
  include-gas-estimate: true # ะะบะปััะฐัั ะพัะตะฝะบั ะณะฐะทะฐ
```

### **Database Schema Updates**

#### **ะะฑะฝะพะฒะปะตะฝะฝะฐั ัะฐะฑะปะธัะฐ `outgoing_transfers`**

```sql
-- ะะพะฒัะต ะฟะพะปั ะดะปั ะบะพะผะธััะธะน
ALTER TABLE outgoing_transfers
ADD COLUMN order_amount DECIMAL(30,18),      -- ะกัะผะผะฐ ะทะฐะบะฐะทะฐ ะฑะตะท ะบะพะผะธััะธะธ
ADD COLUMN fee_amount DECIMAL(30,18),        -- ะะฐะทะผะตั ะบะพะผะธััะธะธ
ADD COLUMN gas_cost_trx DECIMAL(30,18),      -- ะกัะพะธะผะพััั ะณะฐะทะฐ ะฒ TRX
ADD COLUMN gas_cost_usdt DECIMAL(30,18);     -- ะกัะพะธะผะพััั ะณะฐะทะฐ ะฒ USDT
```

---

## ๐ Troubleshooting

### **ะะพะฒัะต ะฒะพะทะผะพะถะฝัะต ะฟัะพะฑะปะตะผั**

#### **1. ะะฒัะพะฐะบัะธะฒะฐัะธั ะฝะต ัะฐะฑะพัะฐะตั**

**ะกะธะผะฟัะพะผั:**

- ะะพะฒัะต ะบะพัะตะปัะบะธ ะฝะต ะฐะบัะธะฒะธัััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ
- ะัะธะฑะบะฐ "Could not convert address to full hex"

**ะะธะฐะณะฝะพััะธะบะฐ:**

```bash
# ะัะพะฒะตัะธัั ะปะพะณะธ ะฐะบัะธะฒะฐัะธะธ
docker logs trc20-payment-gateway | grep "activation"

# ะัะพะฒะตัะธัั ะฝะฐัััะพะนะบะธ
curl http://localhost:8080/api/wallets/activation-info

# ะััะฝะฐั ะฐะบัะธะฒะฐัะธั
curl -X POST http://localhost:8080/api/wallets/activate/YOUR_ADDRESS
```

**ะะตัะตะฝะธั:**

- ะัะพะฒะตัะธัั ะฑะฐะปะฐะฝั ะผะฐััะตั-ะบะพัะตะปัะบะฐ (ะดะพะปะถะฝะพ ะฑััั >10 TRX)
- ะฃะฑะตะดะธัััั ััะพ `WALLET_ACTIVATION_ENABLED=true`
- ะัะพะฒะตัะธัั ะบะพััะตะบัะฝะพััั `MASTER_WALLET_PRIVATE_KEY`

#### **2. ะะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั ะฐะดัะตัะพะฒ ะฝะต ัะฐะฑะพัะฐะตั**

**ะกะธะผะฟัะพะผั:**

- ะัะธะฑะบะธ ะฟัะธ ัะฐะฑะพัะต ั ะฝะตะฐะบัะธะฒะธัะพะฒะฐะฝะฝัะผะธ ะฐะดัะตัะฐะผะธ
- "Invalid TRON address checksum"

**ะะธะฐะณะฝะพััะธะบะฐ:**

```rust
// ะขะตัั ะปะพะบะฐะปัะฝะพะน ะบะพะฝะฒะตััะฐัะธะธ
String base58 = "TEL6KQVwtyBMfuXhVdzDX9GcJd7uqkXRaC";
String hexFull = TronAddressUtil.convertBase58ToHexFull(base58);
System.out.println("Hex: " + hexFull); // ะะพะปะถะฝะพ ะฑััั: 412fd3a8b9b30164f70bacf692ab7cbecddee0b885
```

#### **3. Gas sponsorship ะฝะต ัะฐะฑะพัะฐะตั**

**ะกะธะผะฟัะพะผั:**

- Transfer ะฒะธัะธั ะฒ ััะฐัััะต PENDING
- ะัะธะฑะบะธ "insufficient balance" ะฟัะธ ะดะพััะฐัะพัะฝะพะผ USDT

**ะะธะฐะณะฝะพััะธะบะฐ:**

```bash
# ะัะพะฒะตัะธัั TRX ะฑะฐะปะฐะฝั ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ะบะพัะตะปัะบะฐ
curl "https://api.shasta.trongrid.io/v1/accounts/USER_ADDRESS"

# ะัะพะฒะตัะธัั ะปะพะณะธ ัะฟะพะฝัะพัััะฒะฐ
docker logs trc20-payment-gateway | grep "sponsor"
```

**ะะตัะตะฝะธั:**

- ะฃะฒะตะปะธัะธัั `SPONSOR_AMOUNT` ะตัะปะธ ะณะฐะท ะดะพัะพะถะฐะตั
- ะัะพะฒะตัะธัั ะฑะฐะปะฐะฝั ะผะฐััะตั-ะบะพัะตะปัะบะฐ

#### **4. ะะธะฝะฐะผะธัะตัะบะฐั ะพัะตะฝะบะฐ ะณะฐะทะฐ ะดะฐะตั ะฝะตัะพัะฝัะต ัะตะทัะปััะฐัั**

**ะกะธะผะฟัะพะผั:**

- ะขัะฐะฝะทะฐะบัะธะธ ัะตะนะปัััั ะธะท-ะทะฐ ะฝะตะดะพััะฐัะบะฐ ะณะฐะทะฐ
- ะัะตะฝะบะฐ ัะธะปัะฝะพ ะพัะปะธัะฐะตััั ะพั ัะตะฐะปัะฝะพะน ััะพะธะผะพััะธ

**ะะธะฐะณะฝะพััะธะบะฐ:**

```bash
# ะขะตัั ะพัะตะฝะบะธ ะณะฐะทะฐ
curl -X POST "https://api.shasta.trongrid.io/wallet/estimateenergy" \
  -H "Content-Type: application/json" \
  -d '{
    "owner_address": "...",
    "contract_address": "...",
    "function_selector": "transfer(address,uint256)",
    "parameter": "..."
  }'
```

### **ะะพะณะธัะพะฒะฐะฝะธะต ะธ ะผะพะฝะธัะพัะธะฝะณ**

#### **ะะปััะตะฒัะต ะปะพะณ-ะฟะฐััะตัะฝั:**

```bash
# ะะฒัะพะฐะบัะธะฒะฐัะธั
"Activating wallet .* by sending .* TRX"
"Wallet .* activated successfully"

# ะกะฟะพะฝัะพัััะฒะพ
"Sponsoring .* TRX for wallet"
"Successfully sponsored .* TRX"

# ะะธะฝะฐะผะธัะตัะบะธะต ะบะพะผะธััะธะธ
"Real energy estimation from TronGrid: .* energy"
"Real gas cost: .* TRX = .* USDT"

# ะะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั
"Address .* not found in TronGrid API, using local conversion"
```

#### **ะะพะฝะธัะพัะธะฝะณ ะฑะฐะปะฐะฝัะพะฒ:**

```bash
# ะะฐััะตั-ะบะพัะตะปะตะบ
curl "https://api.shasta.trongrid.io/v1/accounts/YOUR_MASTER_ADDRESS" | \
  jq '.data[0].balance / 1000000'

# ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะบะพัะตะปัะบะธ
curl "https://api.shasta.trongrid.io/v1/accounts/USER_ADDRESS" | \
  jq '.data[0].trc20[0]'
```

---

## ๐ TRON ะกะฟะตัะธัะธะบะฐ

### **1. ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั ะฐะดัะตัะพะฒ**

**ะัะพะฑะปะตะผะฐ "ะบััะธัั ะธ ัะนัะฐ" ัะตัะตะฝะฐ:**

ะะพ ะฝะฐัะตะณะพ ัะตัะตะฝะธั:

- โ ะะพะฒัะต ะฐะดัะตัะฐ ะฝะต ะฒะธะดะฝั ะฒ TronGrid API
- โ ะะตะปัะทั ะพัะฟัะฐะฒะธัั TRX ะฑะตะท hex ะฐะดัะตัะฐ
- โ ะะตะปัะทั ะฟะพะปััะธัั hex ะฐะดัะตั ะฑะตะท ะฐะบัะธะฒะฐัะธะธ

ะะพัะปะต ะฝะฐัะตะณะพ ัะตัะตะฝะธั:

- โ **ะะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั** Base58 โ Hex ะดะปั ะปัะฑัั ะฐะดัะตัะพะฒ
- โ **ะะฒัะพะผะฐัะธัะตัะบะฐั ะฐะบัะธะฒะฐัะธั** ะฟัะธ ัะพะทะดะฐะฝะธะธ ะบะพัะตะปัะบะฐ
- โ **Fallback ัะธััะตะผะฐ**: API โ ะปะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั

### **2. Hybrid Gas Model**

**ะขัะฐะดะธัะธะพะฝะฝัะน ะฟะพะดัะพะด:**

```
ะะพะปัะทะพะฒะฐัะตะปั โ ะะพะบัะฟะฐะตั TRX โ ะัะฟัะฐะฒะปัะตั USDT
```

**ะะฐั ะฟะพะดัะพะด:**

```
ะะพะปัะทะพะฒะฐัะตะปั โ ะะฐะบะฐะท ะฒ USDT โ ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะบััะฒะฐะตั ะณะฐะท
```

**ะัะตะธะผััะตััะฒะฐ:**

- ะะพะปัะทะพะฒะฐัะตะปั ะฝะต ะทะฝะฐะตั ะพ ัััะตััะฒะพะฒะฐะฝะธะธ TRX
- UX ะบะฐะบ ั ะพะฑััะฝะพะณะพ ะฟะปะฐัะตะถะฝะพะณะพ ะฟัะพัะตััะพัะฐ
- ะะพะผะธััะธั ะฟัะพะทัะฐัะฝะฐ ะธ ะฟัะตะดัะบะฐะทัะตะผะฐ

### **3. ะะตะฐะปัะฝะฐั ััะพะธะผะพััั ััะฐะฝะทะฐะบัะธะน**

**ะขะตััะพะฒัะต ะดะฐะฝะฝัะต (Shasta Testnet):**

```
USDT Transfer: ~16,307 energy
Current cost: ~7.1 TRX โ $0.71 USD
With 1% commission: Total fee โ 1.0 USDT
```

**ะะธะฝะฐะผะธัะตัะบะฐั ะฐะดะฐะฟัะฐัะธั:**

- ะกัะพะธะผะพััั ะณะฐะทะฐ ะธะทะผะตะฝัะตััั ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะทะฐะณััะทะบะธ ัะตัะธ
- ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะบะพััะตะบัะธััะตั ะบะพะผะธััะธะธ
- ะะพะปัะทะพะฒะฐัะตะปะธ ะฒัะตะณะดะฐ ะฟะปะฐััั ัะฟัะฐะฒะตะดะปะธะฒัั ัะตะฝั

### **4. ะะตะทะพะฟะฐัะฝะพััั ะธ ััะฐะฑะธะปัะฝะพััั**

**ะฃัััะฐะฝะตะฝั ะธะทะฒะตััะฝัะต ะฟัะพะฑะปะตะผั:**

- โ Leading zeros ะฒ ะฟัะธะฒะฐัะฝัั ะบะปััะฐั
- โ Signature validation errors
- โ Address/private key mismatches
- โ Non-activated address handling

---

## ๐ ะะพัะพะฒะฝะพััั ะบ Production

### **ะงัะพ ัะถะต ัะฐะฑะพัะฐะตั:**

โ **ะกะพะทะดะฐะฝะธะต ะบะพัะตะปัะบะพะฒ** ั ะฐะฒัะพะฐะบัะธะฒะฐัะธะตะน  
โ **USDT ะฟะตัะตะฒะพะดั** ั ะดะธะฝะฐะผะธัะตัะบะธะผะธ ะบะพะผะธััะธัะผะธ  
โ **Gas sponsorship** ะฟะพะปะฝะพัััั ัะบััััะน ะพั ะฟะพะปัะทะพะฒะฐัะตะปะตะน  
โ **Preview ััะฝะบัะธะพะฝะฐะปัะฝะพััั** ะดะปั ะฟัะพะทัะฐัะฝะพััะธ  
โ **ะะพะบะฐะปัะฝะฐั ะบะพะฝะฒะตััะฐัะธั ะฐะดัะตัะพะฒ** ะฑะตะท API ะทะฐะฒะธัะธะผะพััะตะน  
โ **Real-time gas estimation** ะดะปั ัะฟัะฐะฒะตะดะปะธะฒัั ัะฐัะธัะพะฒ  
โ **Robust error handling** ะธ logging

### **Production Checklist:**

#### **Security:**

- [ ] ะจะธััะพะฒะฐะฝะธะต ะฟัะธะฒะฐัะฝัั ะบะปััะตะน ะฒ ะะ
- [ ] API ะฐััะตะฝัะธัะธะบะฐัะธั ะธ rate limiting
- [ ] HTTPS/TLS ะดะปั ะฒัะตั ัะพะตะดะธะฝะตะฝะธะน
- [ ] Regular security audits

#### **Monitoring:**

- [ ] ะะพะฝะธัะพัะธะฝะณ ะฑะฐะปะฐะฝัะพะฒ ะผะฐััะตั-ะบะพัะตะปัะบะฐ
- [ ] ะะปะตััั ะฝะฐ failed ััะฐะฝะทะฐะบัะธะธ
- [ ] Dashboards ะดะปั ะพะฟะตัะฐัะธะพะฝะฝัั ะผะตััะธะบ
- [ ] ะะพะณะธัะพะฒะฐะฝะธะต ะฒัะตั ะพะฟะตัะฐัะธะน

#### **Scalability:**

- [ ] Horizontal scaling (stateless design)
- [ ] Database connection pooling
- [ ] Async processing ะดะปั transfer queue
- [ ] CDN ะดะปั ััะฐัะธัะตัะบะธั ัะตััััะพะฒ

#### **Business:**

- [ ] Backup ะธ disaster recovery ะฟัะพัะตะดััั
- [ ] Compliance ั ัะธะฝะฐะฝัะพะฒัะผ ัะตะณัะปะธัะพะฒะฐะฝะธะตะผ
- [ ] Customer support ะฟัะพัะตััั
- [ ] Financial reconciliation ัะธััะตะผั

---

## ๐ ะะตะทัะปััะฐัั ัะตััะธัะพะฒะฐะฝะธั

### **ะฃัะฟะตัะฝะพ ะฟัะพัะตััะธัะพะฒะฐะฝะฝัะต ััะตะฝะฐัะธะธ:**

#### **ะะพัะตะปะตะบ 2 (ะฐะบัะธะฒะธัะพะฒะฐะฝะฝัะน):**

- โ **ะะฐะปะฐะฝั**: 4899 USDT, 14+ TRX
- โ **Transfer**: 101 USDT ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝั
- โ **TX Hash**: `0d4f408bd69fd96c17bd388c039817c6f5e71c09f2d909639584041df7970077`

#### **ะะพัะตะปะตะบ 3 (ะฝะพะฒัะน, ะฐะฒัะพะฐะบัะธะฒะธัะพะฒะฐะฝะฝัะน):**

- โ **ะะฒัะพะฐะบัะธะฒะฐัะธั**: 1 TRX ะพัะฟัะฐะฒะปะตะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ
- โ **Gas sponsorship**: 15 TRX ะฟัะตะดะพััะฐะฒะปะตะฝะพ ะดะปั ััะฐะฝะทะฐะบัะธะธ
- โ **USDT transfer**: 101 USDT (100 ะทะฐะบะฐะท + 1 ะบะพะผะธััะธั)
- โ **ะคะธะฝะฐะปัะฝัะต ะฑะฐะปะฐะฝัั**:
  - ะะพัะตะปะตะบ 3: 4899 USDT, 13.26 TRX
  - ะะฐััะตั-ะบะพัะตะปะตะบ: 530 USDT, 1952.63 TRX

#### **ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:**

- ะกะพะทะดะฐะฝะธะต ะบะพัะตะปัะบะฐ: ~1-2 ัะตะบัะฝะดั
- ะะฒัะพะฐะบัะธะฒะฐัะธั: ~2-3 ัะตะบัะฝะดั
- Preview ัะฐััะตั: ~1 ัะตะบัะฝะดะฐ
- ะะพะปะฝัะน transfer: ~15-30 ัะตะบัะฝะด

---

**๐ฏ ะกะธััะตะผะฐ ะฟะพะปะฝะพัััั ะณะพัะพะฒะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!**

**ะะพะปัะทะพะฒะฐัะตะปะธ ะฟะพะปััะฐัั:**

- ะะณะฝะพะฒะตะฝะฝัะต ะณะพัะพะฒัะต ะบะพัะตะปัะบะธ
- ะัะพะทัะฐัะฝัะต ะบะพะผะธััะธะธ
- ะัะพััะพะน UX ะฑะตะท TRX ัะปะพะถะฝะพััะตะน
- ะะฐะดะตะถะฝัะต ะธ ะฑัััััะต ะฟะตัะตะฒะพะดั

**ะะฐะณะฐะทะธะฝั ะฟะพะปััะฐัั:**

- Production-ready ะฟะปะฐัะตะถะฝัะน ัะปัะท
- RESTful API ะดะปั ะธะฝัะตะณัะฐัะธะธ
- ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฟัะฐะฒะปะตะฝะธะต ะณะฐะทะพะผ
- ะกะฟัะฐะฒะตะดะปะธะฒัะต ะธ ะบะพะฝะบััะตะฝัะฝัะต ัะฐัะธัั

---

_ะะตััะธั ะดะพะบัะผะตะฝัะฐัะธะธ: 2.0_  
_ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต: 19 ะฐะฒะณัััะฐ 2025_  
_ะกัะฐััั: โ Production Ready_
